task_id: fliggy_hotel_search
app_id: com.taobao.trip
task_type: travel
description: 在携程应用中，根据指定的城市、地点、入住日期和晚数，查询酒店并查看结果列表。
nodes:
- id: launch_app
  name: 启动携程应用
  condition:
    type: escalate
    params:
      ocr:
        any: ["酒店", "机票", "火车票", "旅行", "我的", "首页"]
      llm:
        prompt: 当前界面是否为携程应用首页或主功能界面？
        expected_true: true
  next: [enter_hotel_search]
- id: enter_hotel_search
  name: 进入酒店搜索
  deps: [launch_app]
  condition:
    type: escalate
    params:
      ocr:
        any: ["酒店", "民宿", "客栈", "住宿", "目的地"]
      llm:
        prompt: 当前操作是否进入了酒店搜索的入口界面，准备输入目的地和日期？
        expected_true: true
  next: [input_destination]
- id: input_destination
  name: 输入目的地或关键词
  deps: [enter_hotel_search]
  condition:
    type: escalate
    params:
      ocr:
        any: ["目的地", "位置", "关键词", "酒店名", "城市", "输入"]
      llm:
        prompt: 用户是否在当前界面输入或选择了任务描述中指定的城市和具体位置/酒店品牌（如'武汉大学'、'亚朵酒店'）？
        expected_true: true
  next: [select_dates]
- id: select_dates
  name: 选择入住和离店日期
  deps: [input_destination]
  condition:
    type: juxtaposition
    params:
      ocr:
        any: ["入住", "离店", "日期", "日历", "共", "晚", "确定", "完成"]
      llm:
        prompt: 用户是否在当前界面通过日历等方式，选择了符合任务描述要求的入住日期和住宿晚数（例如：三天后入住，住1晚）？
        expected_true: true
  next: [click_search]
- id: click_search
  name: 点击查询按钮
  deps: [select_dates]
  condition:
    type: escalate
    params:
      ocr:
        any: ["查询", "搜索", "查找酒店", "搜酒店"]
      llm:
        prompt: 用户在设置好目的地和日期后，是否点击了“查询”或“搜索”按钮来查找酒店？
        expected_true: true
  next: [view_results]
- id: view_results
  name: 查看酒店列表结果
  deps: [click_search]
  condition:
    type: juxtaposition
    params:
      ocr:
        any: ["筛选", "排序", "价格", "评分", "¥", "起", "每晚", "酒店列表", "综合推荐"]
      llm:
        prompt: 当前界面是否成功展示了符合查询条件的酒店列表，并且能清晰地看到多个酒店的名称、价格、评分等核心信息？
        expected_true: true
success:
  any_of: [view_results]
