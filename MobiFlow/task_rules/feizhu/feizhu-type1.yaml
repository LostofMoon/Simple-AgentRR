task_id: fliggy_query_hotel_price
app_id: com.taobao.trip
task_type: query
description: 在飞猪应用中，通过搜索功能查询指定酒店的价格列表。
nodes:
- id: launch_app
  name: 启动飞猪应用
  condition:
    type: escalate
    params:
      ocr:
        any: ["首页", "我的", "行程", "消息", "酒店", "机票", "火车票"]
      llm:
        prompt: 请判断当前界面是否为飞猪应用的首页或主界面？
        expected_true: true
  next: [enter_hotel_module]
- id: enter_hotel_module
  name: 进入酒店搜索页
  condition:
    type: escalate
    params:
      ocr:
        any: ["酒店", "民宿", "目的地", "入住", "离店", "关键词", "搜索酒店"]
      llm:
        prompt: 请判断当前界面是否为酒店搜索功能的主页面，包含目的地、入住日期、离店日期和关键词搜索框等元素？
        expected_true: true
  next: [input_hotel_name]
- id: input_hotel_name
  name: 输入酒店名称并搜索
  condition:
    type: escalate
    params:
      ocr:
        any: ["搜索", "请输入", "取消", "历史记录", "热门搜索"]
      llm:
        prompt: 请判断用户是否已经点击搜索框并准备输入或已经输入了酒店名称，或者已经点击了搜索按钮？
        expected_true: true
  next: [view_search_results]
- id: view_search_results
  name: 查看酒店价格列表
  condition:
    type: juxtaposition
    params:
      ocr:
        any: ["¥", "起", "预订", "价格", "评分", "筛选", "订", "元"]
      llm:
        prompt: 请判断当前界面是否成功展示了酒店的搜索结果列表？列表中应包含多个酒店选项，并明确显示价格信息（如'¥'符号或'元'）和'预订'等操作按钮。
        expected_true: true
success:
  any_of: [view_search_results]
